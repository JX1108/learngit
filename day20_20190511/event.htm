<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title>无标题页</title>
</head>
<body>
<!---任务1---->
    <input id="name" type="text">    
    <button id="submit-btn">Submit</button>

<!---任务2---->
    <label>
        <input id="school" name="status" type="radio">
        School
    </label>
    <label>
        <input id="company" name="status" type="radio">
        Company
    </label>

    <select id="school-select">        
        <option>北京邮电大学</option>
        <option>黑龙江大学</option>
        <option>华中科技大学</option>
    </select>

    <select id="company-select">        
        <option>百度</option>
        <option>爱奇艺</option>        
    </select>

<!---任务3---->
<ul class="palette">
        <li style="background-color:crimson"></li>
        <li style="background-color:bisque"></li>
        <li style="background-color:blueviolet"></li>
        <li style="background-color:coral"></li>
        <li style="background-color:chartreuse"></li>
        <li style="background-color:darkolivegreen"></li>
        <li style="background-color:cyan"></li>
        <li style="background-color:#194738"></li>        
    </ul>

    <p class="color-picker"></p>
    
<!---任务4---->
<ul class="palette2">
        <li style="background-color:crimson"></li>
        <li style="background-color:bisque"></li>
        <li style="background-color:blueviolet"></li>
        <li style="background-color:coral"></li>
        <li style="background-color:chartreuse"></li>
        <li style="background-color:darkolivegreen"></li>
        <li style="background-color:cyan"></li>
        <li style="background-color:#194738"></li>        
    </ul>

    <p class="color-picker2"></p>

<!---任务5---->
<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
<button id="fade-btn">淡出</button>


<script>
//任务一
var btn = document.getElementById("submit-btn");
var input=document.querySelector("#name")
btn.onclick = function(){
    console.log(input.value);
}

document.onkeydown=function(event){
    if(event.keyCode == 27){
        input.value="";
    }
    if(event.keyCode == 13){
        console.log(input.value);
    }
}   

//任务二
var school = document.querySelector("#school")
var company = document.querySelector("#company")
var schoolSelect = document.querySelector("#school-select")
var companySelect = document.querySelector("#company-select")

school.onclick = function(){
      companySelect.style.display="inline";
      schoolSelect.style.display="none";
}
company.onclick = function(){
      companySelect.style.display="none";
      schoolSelect.style.display="inline";
}
//任务三
 var list = document.querySelectorAll(".palette li");     
        for(var i=0,len=list.length; i<len; i++)
        {
            list[i].onclick = function(e){
                var t = e.target;
                var c = t.style.backgroundColor;
                var p = document.querySelector(".color-picker");
                console.log(p);
                p.innerHTML = c;
                p.style.color = c;
            }
        }
//任务四 事件委托
var u = document.querySelector(".palette2");
u.onclick = function(ev){
    var t = ev.target;
    var c = t.style.backgroundColor;
    console.log(c);
    var p = document.querySelector(".color-picker2");
    p.innerHTML = c;
    p.style.color = c;
}
          
//任务五 淡入淡出

window.onload = function(){
    var fadeObj = document.querySelector("#fade-obj");
    var fadeBtn = document.querySelector("#fade-btn");
    var alpha = 100;
    var speed = 2;
    var timer = null;

    fadeBtn.onclick = function(){
        if(fadeBtn.innerHTML == "淡出"){
            fadeBtn.innerHTML = "不可点击";
            console.log("zhu");
            startRun(0);
        }
        
        if(fadeBtn.innerHTML == "淡入"){
            fadeBtn.innerHTML = "不可点击";
            console.log("zhu");
            startRun(100);
            
        }
    }
    function startRun(target){
        clearInterval(timer);
        timer = setInterval(function(){
            if(target > alpha){
             speed = 2;
            }
            else{
             speed = -2;
            }   
            if(alpha == target){
             clearInterval(timer);               
            }
            else{
             alpha = alpha + speed;
             fadeObj.style.filter = 'alpha(opacity = '+alpha+')';
             fadeObj.style.opacity = alpha/100;
             console.log(alpha);
            } 
            
             if(alpha == 100 && target == 100){
              fadeBtn.innerHTML = "淡出";
             }    
            if(alpha == 0 && target == 0){
              fadeBtn.innerHTML = "淡入";
             }                                        
        },30);             
    }
}

</script>
</body>
</html>
